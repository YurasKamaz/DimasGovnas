{"version":3,"sources":["components/UI/MyModal/MyModal.module.css","components/UI/button/MyButton.module.css","components/UI/input/MyInput.module.css","components/UI/Loader/Loader.module.css","context/index.js","components/UI/button/MyButton.jsx","components/UI/navbar/navbar.jsx","pages/about.jsx","API/PostService.js","hooks/usePosts.js","hooks/useFetching.js","utils/pages.js","components/UI/input/MyInput.jsx","components/PostForm.jsx","components/UI/MyModal/MyModal.jsx","components/UI/select/MySelect.jsx","components/PostFilter.jsx","components/PostItem.jsx","components/PostList.jsx","components/UI/Loader/Loader.jsx","hooks/useObserver.js","pages/PostPage.jsx","router/route.js","pages/Posts.jsx","pages/Login.jsx","components/AppRouter.jsx","App.js","index.js"],"names":["module","exports","myModal","myModalContent","active","myBtn","myInput","loader","rotate","AuthContext","createContext","MyButton","_ref","children","props","Object","objectWithoutProperties","react_default","a","createElement","assign","className","classes","Navbar","_useContext","useContext","setIsAuth","isAuth","button_MyButton","onClick","localStorage","removeItem","react_router_dom","to","style","marginRight","About","PostService","limit","page","axios","get","params","_limit","_page","response","id","concat","usePosts","posts","sort","query","sortedPosts","useMemo","toConsumableArray","b","localeCompare","useSortedPosts","filter","post","title","toLowerCase","includes","useFetching","callback","_useState","useState","_useState2","slicedToArray","isLoading","setIsLoading","_useState3","_useState4","error","setError","asyncToGenerator","useFetching_regeneratorRuntime","mark","_callee","_args","arguments","wrap","_context","prev","next","apply","t0","message","finish","stop","this","getPageCount","totalCount","Math","ceil","MyInput","PostForm","create","body","setPost","input_MyInput","value","onChange","e","objectSpread","target","type","placeholder","preventDefault","newPost","Date","now","MyModal","visible","setVisible","rootClasses","cl","push","join","stopPropagation","MySelect","options","defaultValue","event","disabled","map","option","key","name","PostFilter","setFilter","select_MySelect","selectedSort","PostItem","router","useHistory","likes","flag","setFlag","number","src","remove","PostList","length","textAlign","TransitionGroup","index","CSSTransition","timeout","classNames","components_PostItem","Loader","useObserver","ref","canLoad","observer","useRef","useEffect","current","disconnect","IntersectionObserver","entries","isIntersecting","observe","privateRoutes","path","component","exact","setPosts","_useState5","_useState6","modal","setModal","_useState7","_useState8","totalPages","setTotalPages","_useState9","_useState10","_useState11","_useState12","setPage","sortedAndSearchPosts","lastElement","_useFetching","Posts_regeneratorRuntime","getAll","sent","data","headers","_x","_x2","_useFetching2","fetchPosts","isPostLoading","marginTop","UI_MyModal_MyModal","components_PostForm","margin","components_PostFilter","components_PostList","p","display","justifyContent","UI_Loader_Loader","useParams","comments","setComments","PostPage_regeneratorRuntime","getById","fetchingPostById","_useFetching3","_ref2","_callee2","_context2","getComments","_useFetching4","fetchComments","isComLoading","comm","email","publicRoutes","onSubmit","setItem","AppRouter","react_router","route","App","getItem","Provider","navbar","components_AppRouter","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.df1cfe4b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"myModal\":\"MyModal_myModal__1CKEf\",\"myModalContent\":\"MyModal_myModalContent__2Zepo\",\"active\":\"MyModal_active__WtdSS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myBtn\":\"MyButton_myBtn__X6AJX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myInput\":\"MyInput_myInput__19BxJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__WMZrA\",\"rotate\":\"Loader_rotate__2skYJ\"};","import { createContext } from \"react\";\r\n\r\n\r\nexport const AuthContext = createContext(null)","import React from 'react';\r\nimport classes from './MyButton.module.css'\r\n\r\n\r\nconst MyButton = ({children, ...props}) => {\r\n    return(\r\n        <button {...props} className={classes.myBtn}>\r\n            {children}\r\n        </button>\r\n    )\r\n};\r\n\r\nexport default MyButton;","import React, { useContext } from \"react\";\r\nimport { BrowserRouter, Route, Routes,Link } from 'react-router-dom';\r\nimport { AuthContext } from \"../../../context\";\r\nimport MyButton from \"../button/MyButton\";\r\n\r\nconst Navbar = () => {\r\n    const {isAuth, setIsAuth} = useContext(AuthContext)\r\n\r\n    const logout = () => {\r\n        setIsAuth(false)\r\n        localStorage.removeItem('auth')\r\n    }\r\n\r\n    return(\r\n        <div className='navbar'>\r\n            <MyButton onClick={logout}>Выйти</MyButton>\r\n            <div className='navbar__links'>\r\n                <Link to='/about' style={{marginRight: 15}} className='link'>Секрет</Link>\r\n                <Link to='/posts' className='link'>Посты</Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Navbar;","import React from \"react\";\r\n\r\nconst About = () => {\r\n    return(\r\n        <h1>\r\n            Жопа\r\n        </h1>\r\n    )\r\n}\r\n\r\nexport default About;","import axios from 'axios';\r\n\r\nexport default class PostService {\r\n    static async getAll(limit = 10, page = 1) {\r\n        const response = await axios.get('https://jsonplaceholder.typicode.com/posts', {\r\n            params: {\r\n                _limit: limit,\r\n                _page: page\r\n            }\r\n        })\r\n        return response\r\n    }\r\n\r\n    static async getById(id) {\r\n        const response = await axios.get('https://jsonplaceholder.typicode.com/posts/' + id)\r\n        return response\r\n    }\r\n\r\n    static async getComments(id) {\r\n        const response = await axios.get(`https://jsonplaceholder.typicode.com/posts/${id}/comments`)\r\n        return response\r\n    }\r\n}","import React, {useMemo, useState} from 'react';\r\n\r\nexport const useSortedPosts = (posts, sort) => {\r\n    const sortedPosts = useMemo(() => {\r\n        if(sort) {\r\n          return [...posts].sort((a, b) => a[sort].localeCompare(b[sort]))\r\n        }\r\n        return posts\r\n      }, [sort, posts])\r\n      return sortedPosts\r\n}\r\n\r\nexport const usePosts = (posts, sort, query) => {\r\n    const sortedPosts = useSortedPosts(posts, sort)\r\n    const sortedAndSearchPosts = useMemo(() =>{\r\n        return sortedPosts.filter(post => post.title.toLowerCase().includes(query))\r\n    }, [query, sortedPosts])\r\n    return sortedAndSearchPosts\r\n}","import { useState } from \"react\"\r\n\r\nexport const useFetching = (callback) => {\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [error, setError] = useState('')\r\n\r\n    const fetching = async (...args) => {\r\n        try{\r\n            setIsLoading(true)\r\n            await callback(...args)\r\n        } catch(e) {\r\n            setError(e.message)\r\n        } finally {\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n    return [fetching, isLoading, error]\r\n}","export const getPageCount = (totalCount, limit) => {\r\n    return Math.ceil(totalCount / limit)\r\n}\r\n\r\nexport const getPagesArray = (totalPages) => {\r\n    let result = []\r\n    for(let i=0; i<totalPages; i++){\r\n        result.push(i+1)\r\n    }\r\n    return result\r\n}","import React from 'react';\r\nimport classes from './MyInput.module.css'\r\n\r\nconst MyInput = (props) => {\r\n    return(\r\n        <input className={classes.myInput} {...props} />\r\n    )\r\n}\r\n\r\nexport default MyInput;","import React, {useState} from \"react\";\r\nimport MyButton from './UI/button/MyButton';\r\nimport MyInput from './UI/input/MyInput';\r\n\r\nconst PostForm = ({create}) =>{\r\n    const [post, setPost] = useState({title: '', body: ''})\r\n\r\n    const addNewPost = (e) => {\r\n        e.preventDefault()\r\n        const newPost = {\r\n            ...post, id: Date.now()\r\n        }\r\n        create(newPost)\r\n        setPost({title: '', body: ''})\r\n    }\r\n\r\n    return(\r\n        <form>\r\n        <MyInput value={post.title} onChange={e => setPost({...post, title: e.target.value})} type=\"text\" placeholder='Название поста'></MyInput>\r\n        <MyInput value={post.body} onChange={e => setPost({...post, body: e.target.value})} type=\"text\" placeholder='Описание поста'></MyInput>\r\n        <MyButton onClick={addNewPost}>Создать</MyButton>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PostForm;","import React from \"react\";\r\nimport cl from './MyModal.module.css'\r\n\r\nconst MyModal = ({children, visible, setVisible}) => {\r\n\r\n    const rootClasses = [cl.myModal]\r\n    if(visible) {\r\n        rootClasses.push(cl.active)\r\n    }\r\n\r\n    return(\r\n        <div className={rootClasses.join(' ')} onClick={() => setVisible(false)}>\r\n            <div className={cl.myModalContent} onClick = {(e) => e.stopPropagation()}>\r\n                {children}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MyModal;","import React from \"react\";\r\n\r\nconst MySelect = ({options, defaultValue, value, onChange}) => {\r\n    return(\r\n        <select\r\n            value = {value}\r\n            onChange={event => onChange(event.target.value)}\r\n        >\r\n            <option disabled>{defaultValue}</option>\r\n            {options.map(option =>\r\n                <option key={option.value} value={option.value}>\r\n                    {option.name}\r\n                </option>\r\n            )}\r\n        </select>\r\n    );\r\n};\r\n\r\nexport default MySelect;","import React from \"react\";\r\nimport MyInput from './UI/input/MyInput';\r\nimport MySelect from './UI/select/MySelect';\r\n\r\nconst PostFilter = ({filter, setFilter}) => {\r\n    return(\r\n        <div>\r\n        <MyInput\r\n          value={filter.query}\r\n          onChange={e => setFilter({...filter, query: e.target.value})}\r\n          placeholder=\"Поиск\" \r\n        />\r\n        <MySelect\r\n          value={filter.sort}\r\n          onChange={selectedSort => setFilter({...filter, sort: selectedSort})}\r\n          defaultValue=\"Сортировка\"\r\n          options={[\r\n            {value: 'title' , name: 'По заголовку'},\r\n            {value: 'body' , name: 'По содержанию'}\r\n          ]}\r\n        />\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default PostFilter;","import React, {useState} from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport MyButton from './UI/button/MyButton';\r\n\r\n\r\nconst PostItem = (props) => {\r\n    const router = useHistory()\r\n    const [likes, setCount] = useState(5)\r\n    const [flag, setFlag] = useState(false)\r\n    return (\r\n        <div className='post'>\r\n            <div className='postContent'>\r\n                <strong>{props.number}. {props.post.title}</strong>\r\n                <div>{props.post.body}</div>\r\n            </div>\r\n            <h1>{(flag ? 1:0) + likes}</h1>\r\n            <img src={flag ? 'unknown (1).png':'unknown.png'} onClick={() => setFlag(!flag)}></img>\r\n            <MyButton onClick = {() => router.push(`/posts/${props.post.id}`)} className='post__btns'>Открыть</MyButton>\r\n            <MyButton onClick = {() => props.remove(props.post)} className='post__btns'>Удалить</MyButton>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PostItem;","import React from 'react'\r\nimport { CSSTransition, TransitionGroup } from 'react-transition-group'\r\nimport PostItem from './PostItem'\r\n\r\nconst PostList = ({posts, remove}) => {\r\n\r\n    if(!posts.length){\r\n        return (\r\n            <h1 style={{textAlign: 'center'}}>\r\n            Посты не найдены\r\n            </h1>\r\n        )\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <h1 style = {{textAlign: 'center'}}>\r\n                Список постов\r\n            </h1>\r\n            <TransitionGroup>\r\n                {posts.map((post, index) =>\r\n                    <CSSTransition\r\n                        key={post.id}\r\n                        timeout={500}\r\n                        classNames=\"post\"\r\n                    >\r\n                        <PostItem remove={remove} number={index + 1} post={post} />\r\n                    </CSSTransition>\r\n                )}\r\n            </TransitionGroup>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PostList;","import React from 'react';\r\nimport cl from './Loader.module.css'\r\n\r\n\r\nconst Loader = () => {\r\n    return(\r\n        <div className={cl.loader}>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loader;","import {useEffect, useRef} from \"react\";\r\n\r\nexport const useObserver = (ref, canLoad, isLoading, callback) => {\r\n    const observer = useRef();\r\n\r\n    useEffect(() => {\r\n        if(isLoading) return;\r\n        if(observer.current) observer.current.disconnect();\r\n\r\n        var cb = function(entries, observer) {\r\n            if (entries[0].isIntersecting && canLoad) {\r\n                callback()\r\n            }\r\n        };\r\n        observer.current = new IntersectionObserver(cb);\r\n        observer.current.observe(ref.current)\r\n    }, [isLoading])\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport PostService from \"../API/PostService\";\r\nimport Loader from \"../components/UI/Loader/Loader\";\r\nimport { useFetching } from \"../hooks/useFetching\";\r\n\r\nconst PostPage = () => {\r\n    const params = useParams()\r\n    const [post, setPost] = useState({})\r\n    const [comments, setComments] = useState([])\r\n    const [fetchingPostById, isLoading, error] = useFetching(async (id) => {\r\n        const response = await PostService.getById(id)\r\n        setPost(response.data)\r\n    })\r\n    const [fetchComments, isComLoading, ComError] = useFetching(async (id) => {\r\n        const response = await PostService.getComments(id)\r\n        setComments(response.data)\r\n    })\r\n\r\n    useEffect(() => {\r\n        fetchingPostById(params.id)\r\n        fetchComments(params.id)\r\n    }, [])\r\n\r\n    return(\r\n        <div>\r\n            <h1>Пост №{params.id}</h1>\r\n            {isLoading\r\n                ? <Loader/>\r\n                :  <div>{post.id}. {post.title}</div>\r\n            }\r\n            <h1>\r\n                Комментарии\r\n            </h1>\r\n            {isComLoading\r\n                ? <Loader/>\r\n                : <div>\r\n                    {comments.map(comm =>\r\n                        <div key={comm.id} style={{marginTop: 15}}>\r\n                            <h5>{comm.email}</h5>\r\n                            <div>{comm.body}</div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PostPage","import About from \"../pages/about\";\r\nimport Posts from \"../pages/Posts\";\r\nimport PostPage from \"../pages/PostPage\";\r\nimport Login from \"../pages/Login\"\r\n\r\nexport const privateRoutes = [\r\n    {path: '/about', component: About, exact: true},\r\n    {path: '/posts', component: Posts, exact: true},\r\n    {path: '/posts/:id', component: PostPage, exact: true},\r\n]\r\n\r\nexport const publicRoutes = [\r\n    {path: '/login', component: Login, exact: true}\r\n]","import React, {useEffect, useMemo, useRef, useState} from 'react';\r\nimport PostService from \"../API/PostService\";\r\nimport {usePosts} from \"../hooks/usePosts\";\r\nimport {useFetching} from \"../hooks/useFetching\";\r\nimport {getPageCount} from \"../utils/pages\";\r\nimport MyButton from \"../components/UI/button/MyButton\";\r\nimport PostForm from \"../components/PostForm\";\r\nimport MyModal from \"../components/UI/MyModal/MyModal\";\r\nimport PostFilter from \"../components/PostFilter\";\r\nimport PostList from \"../components/PostList\";\r\nimport Loader from \"../components/UI/Loader/Loader\";\r\nimport Pagination from \"../components/UI/pagination/pagination\";\r\nimport { useObserver } from '../hooks/useObserver';\r\n\r\n\r\nfunction Posts() {\r\n  const [posts, setPosts] = useState([])\r\n  const [filter, setFilter] = useState({sort: '', query: ''})\r\n  const [modal, setModal] = useState(false)\r\n  const [totalPages, setTotalPages] = useState(0)\r\n  const [limit, setLimit] = useState(10)\r\n  const [page, setPage] = useState(1) \r\n  const sortedAndSearchPosts = usePosts(posts, filter.sort, filter.query)\r\n  const lastElement = useRef()\r\n\r\n  const [fetchPosts, isPostLoading, postError] = useFetching(async (limit, page) => {\r\n    const response = await PostService.getAll(limit, page);\r\n    setPosts([...posts, ...response.data])\r\n    const totalCount = response.headers['x-total-count']\r\n    setTotalPages(getPageCount(totalCount, limit))\r\n  })\r\n\r\n  useObserver(lastElement, page < totalPages, isPostLoading, () => {\r\n    setPage(page + 1);\r\n  })\r\n\r\n  useEffect(() => {\r\n    fetchPosts(limit, page)\r\n  }, [page])\r\n\r\n  const createPost = (newPost) =>{\r\n    setPosts([...posts, newPost])\r\n    setModal(false)\r\n  }\r\n\r\n  const removePost = (post) => {\r\n    setPosts(posts.filter(p => p.id !== post.id))\r\n  }\r\n  const changePage = (page) => {\r\n    setPage(page)\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <MyButton onClick = {() => setModal(true)} style={{marginTop: 30}}>\r\n        Создать пост\r\n      </MyButton>\r\n      <MyModal visible={modal} setVisible={setModal}>\r\n        <PostForm create={createPost}/>\r\n      </MyModal>\r\n      <hr style={{margin: '15px 0'}}/>\r\n      <PostFilter filter={filter} setFilter={setFilter} />\r\n      <PostList remove={removePost} posts={sortedAndSearchPosts}/> \r\n      <div ref={lastElement}/>\r\n      {isPostLoading &&\r\n        <div style={{display: 'flex', justifyContent: 'center', marginTop: 50}} ><Loader/></div>\r\n      }\r\n      {/* <Pagination page={page} changePage={changePage} totalPages={totalPages}/> */}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Posts;","import React, { useContext } from \"react\";\r\nimport MyButton from \"../components/UI/button/MyButton\";\r\nimport MyInput from \"../components/UI/input/MyInput\";\r\nimport { AuthContext } from \"../context\";\r\n\r\nconst Login = () => {\r\n    const {isAuth, setIsAuth} = useContext(AuthContext)\r\n\r\n    const login = event => {\r\n        event.preventDefault()\r\n        setIsAuth(true)\r\n        localStorage.setItem('auth', 'true')\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <h1>Авторизация</h1>\r\n            <form onSubmit={login}>\r\n                <MyInput type=\"text\"  placeholder=\"Введите логин\"/>\r\n                <MyInput type=\"password\"  placeholder=\"Введите пароль\"/>\r\n                <MyButton>Войти</MyButton>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;","import React, { useContext } from \"react\";\r\nimport { Route, Switch, Redirect } from 'react-router-dom';\r\nimport { publicRoutes, privateRoutes } from \"../router/route\";\r\nimport { AuthContext } from \"../context\";\r\nimport Loader from \"./UI/Loader/Loader\";\r\n\r\nconst AppRouter = () => {\r\n    const {isAuth, setIsAuth, isLoading} = useContext(AuthContext)\r\n\r\n    if(isLoading) {\r\n        return <Loader/>\r\n    }\r\n\r\n    return(\r\n        isAuth\r\n        ?<Switch>\r\n            {privateRoutes.map(route =>\r\n                <Route component={route.component} path={route.path} exact={route.exact} key={route.path}/>\r\n            )}\r\n            <Redirect to='/posts' />\r\n        </Switch>\r\n        \r\n        :<Switch>\r\n            {publicRoutes.map(route =>\r\n                <Route component={route.component} path={route.path} exact={route.exact} key={route.path}/>\r\n            )}\r\n            <Redirect to='/login' />\r\n        </Switch>\r\n    )\r\n}\r\n\r\nexport default AppRouter;","import React, {useEffect, useMemo, useState} from 'react';\nimport { BrowserRouter, Route, Routes, Switch, Redirect } from 'react-router-dom';\nimport Navbar from './components/UI/navbar/navbar';\nimport \"./styles/style.css\";\nimport AppRouter from './components/AppRouter';\nimport { AuthContext } from './context';\n\nfunction App() {\n  const [isAuth, setIsAuth] = useState(false)\n  const [isLoading, setIsLoading] = useState(true)\n\n  useEffect(() => {\n    if(localStorage.getItem('auth')) setIsAuth(true)\n    setIsLoading(false)\n  }, [])\n  return (\n    <AuthContext.Provider value={{\n      isAuth,\n      setIsAuth,\n      isLoading\n    }}>\n      <BrowserRouter>\n        <Navbar/>\n        <AppRouter />\n      </BrowserRouter>\n    </AuthContext.Provider>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App/>,\n  document.getElementById('root')\n);"],"sourceRoot":""}